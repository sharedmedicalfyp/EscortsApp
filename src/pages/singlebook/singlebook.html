<ion-header>

    <ion-navbar color="danger">
        <ion-title style="text-align: center;">Booking Information</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding text-wrap>
    <ion-list *ngFor="let item of items ">


        <form [formGroup]="myForm">

            <ion-item>
                <div class="section">
                    <h2><strong>Assistance:</strong></h2>
                    <h2>{{item.Assistance}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Client's Email:</strong></h2>
                    <h2>{{item.Email}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Contact no:</strong></h2>
                    <h2>{{item.Contact}}</h2>
                </div>
                <div *ngIf="item.SecondaryContact" class="section">
                    <h2><strong>Secondary Contact no</strong></h2>
                    <h2>{{item.SecondaryContact}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Date:</strong></h2>
                    <h2>{{item.Date}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Start Time:</strong></h2>
                    <h2>{{item.startTime}}</h2>
                </div>
                <div class="section">
                    <h2><strong>End Time:</strong></h2>
                    <h2>{{item.endTime}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Pick up location:</strong></h2>
                    <h2>{{item.Pickup}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Destination location:</strong></h2>
                    <h2>{{item.Destination}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Requester:</strong></h2>
                    <h2>{{item.ClientName}}</h2>
                </div>
                <div class="section">
                    <h2><strong>Riders:</strong></h2>
                    <ul>
                        <li>
                            <h2>{{item.PatientName}}</h2>
                        </li>
                        <li *ngIf="item.Patient2Name">
                            <h2>{{item.Patient2Name}}</h2>
                        </li>
                        <li *ngIf="item.Patient3Name">
                            <h2>{{item.Patient3Name}}</h2>
                        </li>
                    </ul>
                </div>
                <div *ngIf="item.CompletedAt" class="section">
                    <h2><strong>Completed at:</strong></h2>
                    <h2>{{item.CompletedAt | date : 'dd/MM/yyyy h.mma'}}</h2>
                </div>
                <div *ngIf="item.ROD" class="section">
                    <h2><strong>Reason of Cancellation</strong></h2>
                    <h2>{{item.ROD}}</h2>
                </div>
                <div *ngIf="item.CancelledAt" class="section">
                    <h2><strong>Cancelled at</strong></h2>
                    <h2>{{ item.CancelledAt | date : 'dd/MM/yyyy h.mma' }}</h2>
                </div>
            </ion-item>
            <ion-item *ngIf="visible">
                <h2><strong>>Reason of Cancellation</strong></h2>
                <ion-input formControlName="Rod" type="text" placeholder="Reason of Cancellation "></ion-input>
            </ion-item>

            <!-- <ion-item>
                <p style="color:#488aff">Carpool: </p>
                <p style="display:inline; color:black">{{item.Carpool}}</p>
            </ion-item> -->
            <!-- <ion-item>
                <p style="color:#488aff">Assistance: </p>
                <p style="display:inline; color:black">{{item.Assistance}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Client's Email: </p>
                <p style="display:inline; color:black">{{item.Email}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Contact: </p>
                <p style="display:inline; color:black">{{item.Contact}}</p>
            </ion-item>
            <ion-item *ngIf="item.SecondaryContact">
                <p style="color:#488aff">Secondary Contact: </p>
                <p style="display:inline; color:black">{{item.SecondaryContact}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Date: </p>
                <p style="display:inline; color:black">{{item.Date}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Start Time: </p>
                <p style="display:inline; color:black">{{item.startTime}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">End Time: </p>
                <p style="display:inline; color:black">{{item.endTime}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Pick up Location: </p>
                <p style="display:inline; color:black">{{item.Pickup}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Destination Location: </p>
                <p style="display:inline; color:black">{{item.Destination}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Requester: </p>
                <p style="display:inline; color:black">{{item.ClientName}}</p>
            </ion-item>
            <ion-item>
                <p style="color:#488aff">Riders: </p>
                <p style="display:inline; color:black">{{item.PatientName}}</p>
            </ion-item>
            <ion-item *ngIf="item.Patient2Name">
                <p style="display:inline; color:black">{{item.Patient2Name}}</p>
            </ion-item>
            <ion-item *ngIf="item.Patient3Name">
                <p style="display:inline; color:black">{{item.Patient3Name}}</p>
            </ion-item>
            <ion-item *ngIf="item.CompletedAt">
                <p style="color:#488aff">Completed At: </p>
                <p style="display:inline; color:black">{{item.CompletedAt | date : 'dd/MM/yyyy h.mma'}}</p>
            </ion-item>
            <ion-item *ngIf="item.ROD">
                <p style="color:#488aff">Reason Of Decline: </p>
                <p style="display:inline; color:black">{{item.ROD}}</p>
            </ion-item>
            <ion-item *ngIf="item.CancelledAt">
                <p style="color:#488aff">Cancelled At: </p>
                <p style="display:inline; color:black">{{ item.CancelledAt | date : 'dd/MM/yyyy h.mma' }}</p>
            </ion-item>
            <ion-item *ngIf="visible">
                <ion-label color="primary" stacked>Reasons Of Decline :</ion-label>
                <ion-input formControlName="Rod" type="text" placeholder="Reasons Of Decline "></ion-input>
            </ion-item> -->
            <ion-row>
                <!-- first button  -->
                <ion-col *ngIf=" !cancel && !isCancelled" col-6>

                    <button ion-button class="but" style="margin-top:10px" text-center (click)="ViewInfo(item)">Riders Info</button>

                </ion-col>
                <!-- second button  -->
                <ion-col col-6>
                    <button *ngIf="hasOverlap == true" ion-button class="but" style="margin-top:10px" text-center (click)="ReviewSchedule()">Resolve Conflicts</button>
                    <button *ngIf="button && hasOverlap == false" style="margin-top:10px" ion-button class="but" text-center [disabled]="!isenabled" (click)="Accept()"> Accept</button>
                </ion-col>
            </ion-row>
            <ion-row *ngIf=" cancel || isCancelled">
                <button ion-button class="but" style="margin-top:10px" text-center (click)="ViewInfo(item)">Riders Info</button>
            </ion-row>
            <ion-row *ngIf=" cancel">
                <ion-col col-6>

                    <button ion-button class="but" text-center [disabled]="onTrip" (click)="Trip()"> Start Trip</button>

                </ion-col>
                <ion-col col-6>
                    <button ion-button class="but" text-center [disabled]="!isenabled || !myForm.valid" (click)="Cancel()"> Cancel</button>
                </ion-col>
            </ion-row>
        </form>

    </ion-list>

</ion-content>